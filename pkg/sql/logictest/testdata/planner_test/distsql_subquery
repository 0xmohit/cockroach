# LogicTest: 5node-dist

query T
SELECT url FROM [EXPLAIN (DISTSQL) SELECT 1 WHERE EXISTS (SELECT 1)]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyMj01L9DAUhffvrwhnNQOBt91Jdn5ksDDOjG3RgSGL0lzGYkxqPkAo_e_SVhERweV9npt7TgaEVwOBSm7ldc2SN2xT7u_YSR4P28tix1Y3RVVX99s1-1jJ2eOtLCWTx0mw1SdeK3BYp2nXvFCAOCGH4ui9aykE5yc0zAuFfoPIODrbpzhhxdE6TxADYhcNQeChMYnC_wwcmmLTmflixq7YKmPtU7LPYQ2OTWciefGzDDhKsnpyuRCi2NUXUCOHS_ErNMTmTBDZyP9erKTQOxvoW7HfLysO0mdaPh9c8i0dvGvnmGXcz-9moCnExebLUNhFjWr89x4AAP__2qKEZQ==

statement ok
CREATE TABLE abc (a INT PRIMARY KEY, b INT, c INT)

query T
SELECT url FROM [EXPLAIN (DISTSQL) SELECT EXISTS (SELECT * FROM abc WHERE a = 1)]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyMj81qwzAQhO99imVOcRDUvgpy6I9LDWmSOqENBB8UeUlDXSuVZCgYv3uxZCg9FHqcb0e7n3q4zwYS23yZ3-2osw09lOsnOuT7zfKmWNHsvtjuts_LhKZKvh8BzaY4j3111PT6mJc5KVpQllQQaE3NK_XBDvKADJXAxRrNzhk7oj4UivoLMhU4t5fOj7gS0MYyZA9_9g1D4kU1HbvrFAI1e3VuwsaUbmmWkn7r2neXQKDktmYrJ8NJcD7qqaMOcmqRJagGAdP5n3POqxNDpoP4v1LJ7mJax7-U_t5cCXB94vhtZzqreWONDmdiXId3AdTsfJxmMRRtHA3VcPUdAAD__3xjhwE=

query T
SELECT url FROM [EXPLAIN (DISTSQL) SELECT * FROM abc WHERE a = (SELECT max(a) FROM abc WHERE EXISTS(SELECT * FROM abc WHERE c=a+3))]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyskFFL8zAUhu-_XxHeq_Uz4op3AWGiHRbmNtuBg9GLs_QwCl1TkxQmpf9d2g5FRfDCy3PeJ0_ypoV7KaGQRovobiMaW4p5snoUu2i7XtzGSzG5j9NN-rQIxBn5PwK01-L5IUoiQeJGTM7hkU4TCr4S0bZ3vEPfDLo3kLgQ10EQZJCoTM5LOrKD2iFEJlFbo9k5Y_tVOwBxfoKaShRV3fh-nUloYxmqhS98yVDY0L7khClnezWFRM6einLQ1rY4kn2d0V5DIq2pckpcQmJelJ6tErPwb4sh6yRM4z9e6zwdGCrs5O8bJexqUzn-VOYn87TLJDg_8PhrzjRW89oaPVwzjqvh3LDI2fkxDcchrsaoy7p_bwEAAP__dRGm4w==

query T
SELECT url FROM [EXPLAIN ANALYZE (DISTSQL) SELECT EXISTS (SELECT max(a) FROM abc)]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyMj81qwzAQhO99CjEnGwR1rro5qQsGN07jUNIGH1RpSUMdKdUPBILfvcQKlB4KPc63uzOzF_ivAQJd1VSLDYtuYI_r9ontqu2qKeslK5dl8_pWseyh7jbdc5Oz22q1vQKW3eRRnjOZp2P5rvIeHMZqWsojeYgdZug5Ts4q8t66K7pMC7U-QxQcB3OK4Yp7DmUdQVwQDmEgCLzIIZK_L8ChKcjDMDkWbM6ygqmPaD59Do41GU1OsEXZbbLgIpXdvG2bHP3IYWP4CfBB7gmiGPn_S6zJn6zx9KvE3849B-k9pUe9jU7Rylk1xSTZTncT0ORDms6SqE0ajf149x0AAP__mnaEdg==

query T
SELECT url FROM [EXPLAIN ANALYZE (DISTSQL) SELECT * FROM abc WHERE a = (SELECT max(a) FROM abc WHERE EXISTS(SELECT * FROM abc WHERE c=a+3))]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyMkFFro0AUhd_3V1zuk-7Ossq-LAOBSNZQwZpULU0bfJjoJQijY2dGmhL870UNLW0p9PGe8_l5mDOaR4kcszAOVzn0WsI63VzDPtxt4yBKIEiC-P4hBOd_lOXZTezCBf05g-JQwt1VmIYgYAHOpWzEyRHuRyLcjY5X6JOhHA0CfsFf13ULZNiqihLRkEG-Rx8Lhp1WJRmj9BidJyCqTsg9hnXb9XaMC4al0oT8jLa2kpBjLg6SUhIV6T8eMqzIilpO2k7XjdDPS3EokWHWidZw-I0M17W0pDksfVjAKshyJ7mNYwgyiJL8n4sMtXoyoElUHEapsUJKsHVDHDyDxcBQ9fZtlLHiSMj9gX1_eEqmU62hd5u_MntDwZCqI82PY1SvS9pqVU6_mc_N9N0UVGTs3PrzEbVzNRTDj5cAAAD__58TpEQ=


# Ensure subquery outside of the explain doesn't mess anything up

query TB
SELECT url, exists (SELECT 1) FROM [EXPLAIN ANALYZE (DISTSQL) SELECT * FROM abc WHERE a = (SELECT max(a) FROM abc)]
----
https://cockroachdb.github.io/distsqlplan/decode.html#eJyMkEFrs0AQhu_frxjmpB9bqreyEIikhgrWpGpp2uBho0MQVtfurjQl-N-LGlJ6KPQ47zz77Muc0bxL5JiFcbjKodeSQbiLsjwD55L5LqzTzSPsw902DqIEgiSIX99CcO5H7il24UL-n0FxKOHlIUxDELC4ahpxcoR7JdwCGbaqokQ0ZJDv0ceCYadVScYoPUbnCYiqE3KPYd12vR3jgmGpNCE_o62tJOSYi4OklERF-tZDhhVZUctJ2-m6EfpzKQ4lMsw60RoON8hwXUtLmsPShwWsgix3kuc4hiCDKMnvXGSo1YcBTaLiMEqNFVKCrRvi4BksBoaqt9-ljBVHQu4P7O_FUzKdag396Pyb2RsKhlQdaT6OUb0uaatVOX0zj5vp3RRUZOy89echaufVUAz_vgIAAP__5bScVw==  true
